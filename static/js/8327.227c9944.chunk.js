"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[8327],{3565:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var s=t(5043),r=t(4858),l=t(7519),i=t(184),n=t(3611),d=t(8147),o=t(7488),c=t(791),m=t(5475),u=t(579);const x={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{staggerChildren:.1,delayChildren:.2,duration:.7,ease:"easeOut"}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},b=()=>{const{register:e,handleSubmit:a,formState:{errors:t},reset:b}=(0,r.mN)(),[p,g]=(0,s.useState)(!1),[v,f]=(0,s.useState)(null),[j,N]=(0,s.useState)(null),[w,y]=(0,s.useState)(null),C=async(e,a)=>{if(!e)return null;const t=(0,d.KR)(c.I,a);return await(0,d.D)(t,e),await(0,d.qk)(t)},A=function(a,s,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",n=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0;return(0,u.jsxs)(l.P.div,{variants:h,className:"w-full",children:[(0,u.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-white mb-2",children:s}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-white/70 text-xl",children:r}),(0,u.jsx)("input",{id:a,type:i,...e(a,n),placeholder:`Enter your ${s.replace("*","").toLowerCase()}`,className:"w-full pl-11 pr-4 py-3 rounded-lg border custom-box-bg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 "+(t[a]?"border-red-500 ring-red-500/50":"border-gray-300/50")})]}),d&&(0,u.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:d}),t[a]&&(0,u.jsx)("p",{className:"text-red-400 text-xs mt-1",children:t[a].message})]})},P=(a,s,r,n,d,o)=>(0,u.jsxs)(l.P.div,{variants:h,className:"w-full",children:[(0,u.jsx)("label",{htmlFor:a,className:"block text-sm font-medium text-white mb-2",children:s}),(0,u.jsxs)("div",{className:`relative border-2 border-dashed rounded-lg p-4 text-center transition-all duration-300 ${t[a]?"border-red-500":"border-gray-300/50 hover:border-blue-500"} ${p?"opacity-50":""}`,children:[(0,u.jsx)("input",{id:a,type:"file",accept:o,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",...e(a,{validate:{fileSize:e=>!(null!==e&&void 0!==e&&e[0])||e[0].size<=5e6||"File size must be less than 5MB",fileType:e=>{if(null===e||void 0===e||!e[0])return!0;return o.split(",").map(e=>e.trim()).some(a=>e[0].type.includes(a))||"Invalid file type. Accepted: PDF, JPG, PNG"}}}),onChange:e=>{e.target.files&&e.target.files[0]&&n(e.target.files[0])},disabled:p}),d?(0,u.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.type.includes("pdf")?(0,u.jsx)(i.kl1,{className:"text-red-400 text-2xl"}):(0,u.jsx)(i.R1W,{className:"text-blue-400 text-2xl"}),(0,u.jsx)("span",{className:"text-sm font-medium truncate overflow-hidden",children:d.name})]}),(0,u.jsx)("button",{type:"button",onClick:()=>n(null),className:"text-red-500 hover:text-red-400 transition-colors ml-2 flex-shrink-0","aria-label":"Remove file",disabled:p,children:(0,u.jsx)(i._Hm,{size:20})})]}):(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center text-white/70",children:[r,(0,u.jsx)("p",{className:"mt-2 text-sm",children:"Click or drag file to upload"}),(0,u.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPG, PNG (Max 5MB)"})]})]}),t[a]&&(0,u.jsx)("p",{className:"text-red-400 text-xs mt-1",children:t[a].message})]});return(0,u.jsx)("div",{className:"py-12",children:(0,u.jsxs)(l.P.div,{className:"max-w-4xl mx-auto",initial:"hidden",animate:"visible",variants:x,children:[(0,u.jsxs)(l.P.div,{className:"text-sm mb-8",variants:h,children:[(0,u.jsx)(m.N_,{to:"/",className:"hover:text-blue-400",children:"Home"}),(0,u.jsx)("span",{className:"mx-2",children:"/"}),(0,u.jsx)("span",{className:"text-blue-400",children:"Client Service Consent"})]}),(0,u.jsxs)(l.P.div,{className:"bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-xl border border-white/20",variants:h,children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("h2",{className:"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:"Client Service Consent"}),(0,u.jsx)("p",{className:"mt-2 text-gray-300",children:"Please fill out the form below and upload required documents."})]}),(0,u.jsxs)("form",{onSubmit:a(async e=>{g(!0);try{const a=Date.now(),[t,s,r]=await Promise.all([C(v,`clientServiceConsent/pan/${a}_${(null===v||void 0===v?void 0:v.name)||"pan"}`),C(j,`clientServiceConsent/aadhaar/${a}_${(null===j||void 0===j?void 0:j.name)||"aadhaar"}`),C(w,`clientServiceConsent/signature/${a}_${(null===w||void 0===w?void 0:w.name)||"signature"}`)]),l={...e,panUrl:t||null,aadhaarUrl:s||null,signatureUrl:r||null,timestamp:a},i=(0,n.VC)((0,n.KR)(c.db,"clientServiceConsentForms"));await(0,n.hZ)(i,l),o.oR.success("Form submitted successfully!"),b(),f(null),N(null),y(null)}catch(a){console.error("Submission error:",a),o.oR.error("Submission failed: "+a.message)}finally{g(!1)}}),className:"space-y-6",children:[(0,u.jsxs)(l.P.div,{variants:x,className:"p-6 rounded-lg bg-white/5 border border-white/10",children:[(0,u.jsx)("h3",{className:"text-xl font-semibold text-white border-b border-white/20 pb-2 mb-6",children:"Client Information"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A("clientName","Client Name*",(0,u.jsx)(i.x$1,{}),"text",{required:"Client name is required",minLength:{value:2,message:"Client name must be at least 2 characters"}}),A("fatherName","Father's Name*",(0,u.jsx)(i.p7b,{}),"text",{required:"Father's name is required",minLength:{value:2,message:"Father's name must be at least 2 characters"}}),A("clientId","Client ID*",(0,u.jsx)(i.AWX,{}),"text",{required:"Client ID is required",pattern:{value:/^[A-Za-z0-9]{4,}$/,message:"Client ID must be alphanumeric and at least 4 characters"}},"Ask your representative for the client ID."),A("email","Email ID*",(0,u.jsx)(i.maD,{}),"email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),A("dob","Date Of Birth*",(0,u.jsx)(i.bfZ,{}),"date",{required:"Date of birth is required",validate:{pastDate:e=>{const a=new Date;return new Date(e)<a||"Date of birth must be in the past"}}}),A("pan","PAN*",(0,u.jsx)(i.k89,{}),"text",{required:"PAN is required",pattern:{value:/[A-Z]{5}[0-9]{4}[A-Z]{1}/,message:"Invalid PAN format"},minLength:{value:10,message:"PAN must be 10 characters"},maxLength:{value:10,message:"PAN must be 10 characters"}}),A("aadhaar","Aadhaar*",(0,u.jsx)(i.Y9o,{}),"text",{required:"Aadhaar is required",pattern:{value:/^[2-9]{1}[0-9]{3}[0-9]{4}[0-9]{4}$/,message:"Invalid Aadhaar format"},minLength:{value:12,message:"Aadhaar must be 12 digits"},maxLength:{value:12,message:"Aadhaar must be 12 digits"}})]})]}),(0,u.jsxs)(l.P.div,{variants:x,className:"p-6 rounded-lg bg-white/5 border border-white/10",children:[(0,u.jsx)("h3",{className:"text-xl font-semibold text-white border-b border-white/20 pb-2 mb-6",children:"Document Uploads"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[P("panFile","PAN Card Upload",(0,u.jsx)(i.HVe,{size:24}),f,v,"image/jpeg,image/png,application/pdf"),P("aadhaarFile","Aadhaar Card Upload",(0,u.jsx)(i.HVe,{size:24}),N,j,"image/jpeg,image/png,application/pdf"),P("signatureFile","Signature Upload",(0,u.jsx)(i.HVe,{size:24}),y,w,"image/jpeg,image/png,application/pdf")]}),(0,u.jsxs)(l.P.div,{variants:h,children:[(0,u.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-white mb-2",children:"Address*"}),(0,u.jsx)("textarea",{id:"address",...e("address",{required:"Address is required",minLength:{value:10,message:"Address must be at least 10 characters"}}),rows:"4",placeholder:"Enter Full Address",className:"w-full px-4 py-3 rounded-lg border custom-box-bg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 "+(t.address?"border-red-500":"border-gray-300/50")}),t.address&&(0,u.jsx)("p",{className:"text-red-400 text-xs mt-1",children:t.address.message})]})]}),(0,u.jsx)(l.P.div,{variants:h,children:(0,u.jsxs)(l.P.button,{type:"submit",disabled:p,className:"w-full shine-hover py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transform transition-all duration-300",whileHover:{scale:p?1:1.02},whileTap:{scale:p?1:.98},children:[p?"Submitting...":"Submit",!p&&(0,u.jsx)(i.Z0P,{className:"inline ml-2"})]})})]})]})]})})}}}]);
//# sourceMappingURL=8327.227c9944.chunk.js.map