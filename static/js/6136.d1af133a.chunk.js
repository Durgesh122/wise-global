"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[6136],{761:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(7519),i=s(579);const r={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},n=e=>{let{totalPages:t,currentPage:s,paginate:n}=e;return(0,i.jsx)("div",{className:"mt-6 flex justify-center gap-2",children:Array.from({length:t},(e,t)=>(0,i.jsx)(a.P.button,{onClick:()=>n(t+1),className:"px-4 py-2 rounded-lg shadow-md transition-all duration-300 "+(s===t+1?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-700/50 text-white hover:bg-indigo-600/30"),variants:r,whileHover:"hover",whileTap:"tap","aria-label":`Go to page ${t+1}`,children:t+1},t+1))})}},775:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(3546),i=s(7519),r=s(579);const n={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},l=e=>{let{isOpen:t,onClose:s,onConfirm:l,title:o,message:c}=e;return(0,r.jsx)(a.N,{children:t&&(0,r.jsx)(i.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,r.jsxs)(i.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o}),(0,r.jsx)("p",{className:"text-gray-300 mb-6",children:c}),(0,r.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,r.jsx)(i.P.button,{onClick:s,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:n,whileHover:"hover",whileTap:"tap",children:"Cancel"}),(0,r.jsx)(i.P.button,{onClick:l,className:"px-4 py-2 bg-red-500 rounded-lg hover:bg-red-600",variants:n,whileHover:"hover",whileTap:"tap",children:"Confirm"})]})]})})})}},928:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(7519),i=s(579);const r=()=>(0,i.jsx)(a.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,i.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})},6136:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var a=s(5043),i=s(791),r=s(3611),n=s(7519),l=s(7488),o=s(5766),c=s.n(o),d=s(5200),x=s(775),p=s(928),m=s(761),h=s(7684),u=s(579);const g=()=>{const[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)([]),[g,y]=(0,a.useState)(!0),[b,w]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),[C,S]=(0,a.useState)("desc"),[k,P]=(0,a.useState)(""),[A,T]=(0,a.useState)(1),[D]=(0,a.useState)(10);(0,a.useEffect)(()=>{const e=(0,r.KR)(i.db,"popoForms"),s=(0,r.Zy)(e,e=>{const s=e.val();if(s){const e=Object.keys(s).map(e=>({id:e,...s[e]})).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));t(e)}else t([]);y(!1)},e=>{console.error("Firebase read failed: ",e),w("Failed to fetch submissions. Please try again later."),y(!1)});return()=>{(0,r.AU)(e,"value",s)}},[]);const F=(0,a.useCallback)(()=>{let t=[...e];k&&(t=t.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(k.toLowerCase())))),t.sort((e,t)=>{const s=new Date(e.timestamp).getTime(),a=new Date(t.timestamp).getTime();return"desc"===C?a-s:s-a}),o(t),T(1)},[k,e,C]);(0,a.useEffect)(()=>{F()},[F]);return g?(0,u.jsx)(p.A,{}):b?(0,u.jsx)("div",{className:"text-center text-red-500",children:b}):(0,u.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-gray-800/50 p-6 rounded-lg shadow-lg",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,u.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Popup Form Submissions"}),(0,u.jsxs)(n.P.button,{onClick:()=>{if(0===s.length)return void l.oR.info("No data to export.");const e=s.map(e=>({Timestamp:new Date(e.timestamp).toLocaleString("en-IN"),Name:e.name,Mobile:e.mobile,City:e.city,Experience:e.experience,Newsletter:e.newsletter?"Yes":"No"})),t=c().unparse(e),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(a),i.setAttribute("download","popup_submissions.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),l.oR.success("Submissions exported to CSV.")},className:"bg-green-500/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-600/90 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,u.jsx)(d.a4x,{}),(0,u.jsx)("span",{children:"Export CSV"})]})]}),(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsx)(h.A,{searchQuery:k,setSearchQuery:P,placeholder:"Search submissions..."})}),0===s.length?(0,u.jsx)("p",{className:"text-gray-400",children:"No submissions yet."}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full bg-gray-900/70 rounded-lg",children:[(0,u.jsx)("thead",{className:"bg-gray-700/50",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:(0,u.jsxs)("button",{onClick:()=>S("desc"===C?"asc":"desc"),className:"hover:text-indigo-400 transition-colors",children:["Timestamp ","desc"===C?"\u2193":"\u2191"]})}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Mobile"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"City"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Experience"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Newsletter"}),(0,u.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,u.jsx)("tbody",{className:"divide-y divide-gray-700",children:s.slice((A-1)*D,A*D).map(e=>(0,u.jsxs)("tr",{className:"hover:bg-gray-800/50 transition-colors",children:[(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:new Date(e.timestamp).toLocaleString("en-IN")}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.name}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.mobile}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.city}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.experience}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:e.newsletter?"Yes":"No"}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,u.jsx)(n.P.button,{onClick:()=>{return t=e.id,N(t),void j(!0);var t},className:"text-red-500 hover:text-red-700",whileHover:{scale:1.2},"aria-label":"Delete submission",children:(0,u.jsx)(d.IXo,{})})})]},e.id))})]})}),(0,u.jsx)(m.A,{currentPage:A,totalItems:s.length,itemsPerPage:D,onPageChange:T})]}),(0,u.jsx)(x.A,{isOpen:f,onClose:()=>j(!1),onConfirm:async()=>{if(v){try{await(0,r.TF)((0,r.KR)(i.db,`popoForms/${v}`)),l.oR.success("Submission deleted successfully.")}catch(b){l.oR.error(`Failed to delete submission: ${b.message}`)}j(!1),N(null)}},title:"Confirm Deletion",message:"Are you sure you want to delete this submission? This action cannot be undone."})]})}},7684:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(7519),i=s(5200),r=s(579);const n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},l=e=>{let{searchQuery:t,setSearchQuery:s,placeholder:l="Search..."}=e;return(0,r.jsxs)(a.P.div,{className:"relative w-full max-w-md mb-6",variants:n,children:[(0,r.jsx)(i.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,r.jsx)("input",{type:"text",placeholder:l,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:t,onChange:e=>s(e.target.value),"aria-label":"Search"})]})}}}]);
//# sourceMappingURL=6136.d1af133a.chunk.js.map