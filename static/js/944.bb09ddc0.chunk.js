"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[944],{761:(e,t,a)=>{a.d(t,{A:()=>i});a(5043);var s=a(7519),r=a(579);const l={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},i=e=>{let{totalPages:t,currentPage:a,paginate:i}=e;return(0,r.jsx)("div",{className:"mt-6 flex justify-center gap-2",children:Array.from({length:t},(e,t)=>(0,r.jsx)(s.P.button,{onClick:()=>i(t+1),className:"px-4 py-2 rounded-lg shadow-md transition-all duration-300 "+(a===t+1?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-700/50 text-white hover:bg-indigo-600/30"),variants:l,whileHover:"hover",whileTap:"tap","aria-label":`Go to page ${t+1}`,children:t+1},t+1))})}},775:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(3546),r=a(7519),l=a(579);const i={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},n=e=>{let{isOpen:t,onClose:a,onConfirm:n,title:o,message:c}=e;return(0,l.jsx)(s.N,{children:t&&(0,l.jsx)(r.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,l.jsxs)(r.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o}),(0,l.jsx)("p",{className:"text-gray-300 mb-6",children:c}),(0,l.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,l.jsx)(r.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:i,whileHover:"hover",whileTap:"tap",children:"Cancel"}),(0,l.jsx)(r.P.button,{onClick:n,className:"px-4 py-2 bg-red-500 rounded-lg hover:bg-red-600",variants:i,whileHover:"hover",whileTap:"tap",children:"Confirm"})]})]})})})}},928:(e,t,a)=>{a.d(t,{A:()=>l});a(5043);var s=a(7519),r=a(579);const l=()=>(0,r.jsx)(s.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})},944:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(5043),r=a(3611),l=a(791),i=a(7488),n=a(7519),o=a(5200),c=a(928),d=a(7684),h=a(761),m=a(775),x=a(579);const p={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},u={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},b={hover:{scale:1.05},tap:{scale:.95}},g=e=>{let{submissions:t,handleDelete:a}=e;return(0,x.jsx)(n.P.div,{className:"bg-gray-800/30 rounded-xl shadow-lg border border-gray-200/20 overflow-x-auto",variants:u,children:(0,x.jsxs)("table",{className:"w-full text-white",children:[(0,x.jsx)("thead",{className:"bg-gray-700/50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Client Name"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Client ID"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Email"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"PAN Card"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Aadhaar Card"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Signature"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Timestamp"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Actions"})]})}),(0,x.jsx)("tbody",{children:t.map(e=>(0,x.jsxs)(n.P.tr,{className:"border-b border-gray-200/20 hover:bg-gray-700/20",variants:u,children:[(0,x.jsx)("td",{className:"p-4",children:e.clientName||"N/A"}),(0,x.jsx)("td",{className:"p-4",children:e.clientId||"N/A"}),(0,x.jsx)("td",{className:"p-4",children:e.email||"N/A"}),(0,x.jsx)("td",{className:"p-4",children:e.panDataUrl?(0,x.jsx)("a",{href:e.panDataUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View"}):"N/A"}),(0,x.jsx)("td",{className:"p-4",children:e.aadhaarDataUrl?(0,x.jsx)("a",{href:e.aadhaarDataUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View"}):"N/A"}),(0,x.jsx)("td",{className:"p-4",children:e.signatureDataUrl?(0,x.jsx)("a",{href:e.signatureDataUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"View"}):"N/A"}),(0,x.jsx)("td",{className:"p-4",children:e.timestamp?new Date(e.timestamp).toLocaleString("en-IN"):"N/A"}),(0,x.jsx)("td",{className:"p-4",children:(0,x.jsx)(n.P.button,{onClick:()=>a(e.id),className:"text-red-500 hover:text-red-700",variants:b,whileHover:"hover",children:(0,x.jsx)(o.IXo,{size:16})})})]},e.id))})]})})},f=()=>{const[e,t]=(0,s.useState)([]),[a,o]=(0,s.useState)([]),[u,b]=(0,s.useState)(!0),[f,j]=(0,s.useState)(""),[y,v]=(0,s.useState)(1),[N]=(0,s.useState)(10),[w,C]=(0,s.useState)(!1),[S,A]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=(0,r.KR)(l.db,"clientServiceConsentForms"),a=(0,r.Zy)(e,e=>{const a=e.val(),s=a?Object.entries(a).map(e=>{let[t,a]=e;return{id:t,...a}}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)):[];t(s),b(!1)},e=>{i.oR.error("Failed to load consent submissions: "+e.message),b(!1)});return()=>a()},[]);const P=(0,s.useCallback)(()=>{let t=[...e];f&&(t=t.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(f.toLowerCase())))),o(t),v(1)},[f,e]);(0,s.useEffect)(()=>{P()},[P]);const k=y*N,D=k-N,F=a.slice(D,k),U=Math.ceil(a.length/N);return(0,x.jsxs)(n.P.div,{variants:p,initial:"hidden",animate:"visible",children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"Consent Submissions"}),(0,x.jsx)(d.A,{searchQuery:f,setSearchQuery:j,placeholder:"Search consents..."}),u?(0,x.jsx)(c.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g,{submissions:F,handleDelete:e=>{A(e),C(!0)}}),U>1&&(0,x.jsx)(h.A,{totalPages:U,currentPage:y,paginate:v})]}),(0,x.jsx)(m.A,{isOpen:w,onClose:()=>C(!1),onConfirm:async()=>{if(S){try{await(0,r.TF)((0,r.KR)(l.db,`clientServiceConsentForms/${S}`)),i.oR.success("Consent submission deleted successfully.")}catch(e){i.oR.error("Failed to delete consent submission: "+e.message)}C(!1),A(null)}},title:"Confirm Deletion",message:"Are you sure you want to delete this consent submission?"})]})}},7684:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(7519),r=a(5200),l=a(579);const i={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},n=e=>{let{searchQuery:t,setSearchQuery:a,placeholder:n="Search..."}=e;return(0,l.jsxs)(s.P.div,{className:"relative w-full max-w-md mb-6",variants:i,children:[(0,l.jsx)(r.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:n,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:t,onChange:e=>a(e.target.value),"aria-label":"Search"})]})}}}]);
//# sourceMappingURL=944.bb09ddc0.chunk.js.map