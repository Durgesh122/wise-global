"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[3756],{3756:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var s=a(5043),i=a(3216),r=a(3611),l=a(791),o=a(7488),n=a(7519),d=a(3546),c=a(5200),p=a(7115),x=a.n(p),h=(a(6473),a(579));const u=["Monday","Tuesday","Wednesday","Thursday","Friday"],m=["Market","Technical","Financial","Competitor","Other"],g={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut",staggerChildren:.2}}},f={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},w={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(79, 70, 229, 0.4)"},tap:{scale:.95}},b=()=>(0,h.jsx)(n.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,h.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),v=e=>{let{isOpen:t,onClose:a,onConfirm:s,report:i}=e;return(0,h.jsx)(d.N,{children:t&&(0,h.jsx)(n.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,h.jsxs)(n.P.div,{className:"bg-white/10 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,h.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Verify Password for ",null===i||void 0===i?void 0:i.title]}),(0,h.jsx)("input",{type:"text",placeholder:"Enter 4-digit password",className:"w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 mb-4",onChange:e=>s(e.target.value,i),"aria-label":`Password for ${null===i||void 0===i?void 0:i.title}`}),(0,h.jsx)("div",{className:"flex justify-end gap-4",children:(0,h.jsx)(n.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",variants:w,whileHover:"hover",whileTap:"tap","aria-label":"Cancel password verification",children:"Cancel"})})]})})})},y=e=>{let{isOpen:t,onClose:a,report:s,onDownload:i}=e;return(0,h.jsx)(d.N,{children:t&&(0,h.jsx)(n.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,h.jsxs)(n.P.div,{className:"bg-white/10 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-lg w-full",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:null===s||void 0===s?void 0:s.title}),(0,h.jsx)("p",{className:"text-gray-300 mb-4",children:null===s||void 0===s?void 0:s.description}),(0,h.jsxs)("p",{className:"text-sm text-gray-400 mb-2",children:["Category: ",null===s||void 0===s?void 0:s.category]}),(0,h.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["Size: ",null===s||void 0===s?void 0:s.size]}),(0,h.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/337/337946.png",alt:"PDF Thumbnail",className:"w-32 h-32 object-contain mx-auto mb-4"}),(0,h.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,h.jsxs)(n.P.button,{onClick:()=>i(s),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",variants:w,whileHover:"hover",whileTap:"tap","aria-label":`Download ${null===s||void 0===s?void 0:s.title}`,children:[(0,h.jsx)(c.a4x,{})," Download"]}),(0,h.jsx)(n.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",variants:w,whileHover:"hover",whileTap:"tap","aria-label":"Close preview",children:"Close"})]})]})})})},j=e=>{let{activeDay:t,setActiveDay:a}=e;return(0,h.jsx)(n.P.div,{className:"mb-8 flex justify-center",variants:f,"data-aos":"fade-up",children:(0,h.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:u.map(e=>(0,h.jsx)(n.P.button,{onClick:()=>a(e),className:`px-6 py-3 text-sm font-medium transition-all duration-300 ${t===e?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-white/10 text-white hover:bg-white/20"} ${"Monday"===e?"rounded-l-lg":""} ${"Friday"===e?"rounded-r-lg":""}`,variants:w,whileHover:"hover",whileTap:"tap","aria-label":`Select ${e}`,children:e},e))})})},N=e=>{let{searchTerm:t,setSearchTerm:a,selectedCategory:s,setSelectedCategory:i}=e;return(0,h.jsxs)(n.P.div,{className:"mb-6 flex flex-col md:flex-row gap-4",variants:f,"data-aos":"fade-up",children:[(0,h.jsxs)("div",{className:"relative flex-grow",children:[(0,h.jsx)(c.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,h.jsx)("input",{type:"text",placeholder:"Search reports...",className:"pl-10 pr-4 py-3 w-full rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:t,onChange:e=>a(e.target.value),"aria-label":"Search reports"})]}),(0,h.jsxs)("select",{className:"px-4 py-3 rounded-lg bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:s,onChange:e=>i(e.target.value),"aria-label":"Select report category",children:[(0,h.jsx)("option",{value:"All",children:"All Categories"}),m.map(e=>(0,h.jsx)("option",{value:e,className:"bg-gray-800",children:e},e))]})]})},C=e=>{let{report:t,isSelected:a,onVerify:s,onPreview:i}=e;return(0,h.jsxs)(n.P.li,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 rounded-lg cursor-pointer transition-colors duration-300 bg-white/5 backdrop-blur-lg border border-gray-200/10 "+(a?"bg-indigo-500/20 border-indigo-200/20":"hover:bg-gray-700/50"),"data-aos":"fade-up",children:[(0,h.jsxs)("div",{className:"flex justify-between items-start",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"font-medium text-white",children:t.title}),(0,h.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:t.description})]}),(0,h.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:t.size})]}),(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)("span",{className:"inline-block text-xs font-medium text-indigo-400",children:t.category})}),(0,h.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,h.jsxs)(n.P.button,{onClick:()=>i(t),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",variants:w,whileHover:"hover",whileTap:"tap","aria-label":`Preview ${t.title}`,children:[(0,h.jsx)(c.Vap,{})," Preview"]}),(0,h.jsxs)(n.P.button,{onClick:()=>s(t),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",variants:w,whileHover:"hover",whileTap:"tap","aria-label":`Verify password for ${t.title}`,children:[(0,h.jsx)(c.F5$,{})," Verify"]})]})]})},P=e=>{let{totalPages:t,currentPage:a,paginate:s}=e;return(0,h.jsx)(n.P.div,{className:"mt-6 flex justify-center gap-3",variants:f,"data-aos":"fade-up",children:Array.from({length:t},(e,t)=>(0,h.jsx)(n.P.button,{onClick:()=>s(t+1),className:"px-4 py-2 rounded-lg shadow-md transition-all duration-300 "+(a===t+1?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-200 text-black hover:bg-gray-300"),variants:w,whileHover:"hover",whileTap:"tap","aria-label":`Go to page ${t+1}`,children:t+1},t+1))})};const S=function(){const e=(0,i.Zp)(),[t,a]=(0,s.useState)("Monday"),[d,p]=(0,s.useState)(null),[m,S]=(0,s.useState)({}),[k,R]=(0,s.useState)(""),[T,A]=(0,s.useState)("All"),[D,z]=(0,s.useState)(null),[$,H]=(0,s.useState)(!0),[F,O]=(0,s.useState)(!1),[L,V]=(0,s.useState)(!1),[E,M]=(0,s.useState)(1),[U]=(0,s.useState)(5),[I,B]=(0,s.useState)("title"),[K,W]=(0,s.useState)("asc");(0,s.useEffect)(()=>{const t=l.j.onAuthStateChanged(t=>{t?localStorage.setItem("isAuthenticated","true"):(localStorage.removeItem("isAuthenticated"),e("/user-login"),o.oR.error("Please log in to access this page.",{position:"top-center"}))});return()=>t()},[e]),(0,s.useEffect)(()=>{x().init({duration:800,once:!0}),H(!0);const e=(0,r.KR)(l.db,"reports"),t=(0,r.Zy)(e,e=>{const t=e.val();if(t){const e=Object.entries(t).map(e=>{let[t,a]=e;return{id:t,...a}}),a=u.reduce((t,a)=>(t[a]=e.filter(e=>e.day===a),t),{});S(a),o.oR.success("Reports loaded successfully.",{position:"top-center",autoClose:2e3})}else S(u.reduce((e,t)=>({...e,[t]:[]}),{})),o.oR.info("No reports found.",{position:"top-center",autoClose:2e3});H(!1)},e=>{console.error("Error fetching reports:",e),o.oR.error("Failed to load reports: "+e.message,{position:"top-center"}),H(!1)});return()=>t()},[]),(0,s.useEffect)(()=>{p(null),z(null),M(1)},[t]);const Z=(0,s.useCallback)((e,t)=>{e?e===t.password?(p(t),z(t),O(!1),o.oR.success("Password verified successfully.",{position:"top-center"})):o.oR.error("Incorrect password.",{position:"top-center"}):o.oR.error("Please enter a password.",{position:"top-center"})},[]),_=e=>{if(D&&D.id===e.id)try{const t=e.file.split(",")[1],a=atob(t),s=new Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);const i=new Uint8Array(s),r=new Blob([i],{type:"application/pdf"}),l=URL.createObjectURL(r),n=document.createElement("a");n.href=l,n.download=e.filename||`${e.title}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(l),o.oR.success("Report downloaded successfully.",{position:"top-center"}),V(!1)}catch(t){console.error("Error downloading report:",t),o.oR.error("Failed to download report: "+t.message,{position:"top-center"})}else o.oR.error("Please verify the password first.",{position:"top-center"})},G=(m[t]||[]).filter(e=>{const t=e.title.toLowerCase().includes(k.toLowerCase()),a="All"===T||e.category===T;return t&&a}).sort((e,t)=>{if("title"===I)return"asc"===K?e.title.localeCompare(t.title):t.title.localeCompare(e.title);if("size"===I){const a=parseFloat(e.size),s=parseFloat(t.size);return"asc"===K?a-s:s-a}return 0}),q=E*U,J=q-U,Q=G.slice(J,q),X=Math.ceil(G.length/U);return(0,h.jsxs)(n.P.div,{className:"min-h-screen bg-transparent py-8 px-4 sm:px-6 lg:px-8 pt-20",variants:g,initial:"hidden",animate:"visible",children:[(0,h.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,h.jsxs)(n.P.div,{className:"text-center mb-12",variants:f,"data-aos":"fade-up",children:[(0,h.jsx)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white tracking-tight",children:"Research Reports"}),(0,h.jsx)("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-300",children:"Daily analysis and insights"})]}),(0,h.jsx)(j,{activeDay:t,setActiveDay:a}),(0,h.jsx)(N,{searchTerm:k,setSearchTerm:R,selectedCategory:T,setSelectedCategory:A}),(0,h.jsxs)(n.P.div,{className:"mb-6 flex justify-end gap-4",variants:f,"data-aos":"fade-up",children:[(0,h.jsxs)("select",{className:"px-4 py-2 rounded-lg bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:I,onChange:e=>B(e.target.value),"aria-label":"Sort reports by",children:[(0,h.jsx)("option",{value:"title",children:"Sort by Title"}),(0,h.jsx)("option",{value:"size",children:"Sort by Size"})]}),(0,h.jsx)(n.P.button,{onClick:()=>W("asc"===K?"desc":"asc"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",variants:w,whileHover:"hover",whileTap:"tap","aria-label":"Sort "+("asc"===K?"descending":"ascending"),children:"asc"===K?"Sort \u2193":"Sort \u2191"})]}),(0,h.jsx)(n.P.div,{className:"bg-white/10 backdrop-blur-lg shadow-xl rounded-lg overflow-hidden",variants:f,"data-aos":"fade-up",children:(0,h.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,h.jsx)("div",{className:"w-full md:w-1/3 border-r border-gray-200/20",children:(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:t}),$?(0,h.jsx)(b,{}):Q.length>0?(0,h.jsx)("ul",{className:"space-y-4",children:Q.map(e=>(0,h.jsx)(C,{report:e,isSelected:(null===d||void 0===d?void 0:d.id)===e.id,onVerify:()=>{z(e),O(!0)},onPreview:()=>(e=>{z(e),V(!0)})(e)},e.id))}):(0,h.jsx)("p",{className:"text-gray-300 text-sm",children:"No reports found."})]})}),(0,h.jsx)("div",{className:"w-full md:w-2/3 bg-gray-900/50",children:(0,h.jsx)("div",{className:"p-6 h-full",children:d?(0,h.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-white/10 backdrop-blur-lg shadow-sm rounded-lg overflow-hidden h-full flex flex-col","data-aos":"fade-up",children:[(0,h.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200/20",children:[(0,h.jsx)("h3",{className:"text-lg font-medium text-white",children:d.title}),(0,h.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:d.description})]}),(0,h.jsx)("div",{className:"flex-grow p-6 flex items-center justify-center bg-gray-800/50",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"mb-4 p-4 bg-white/10 rounded-lg shadow-inner",children:(0,h.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/337/337946.png",alt:"PDF Thumbnail",className:"w-32 h-32 object-contain mx-auto"})}),(0,h.jsxs)(n.P.button,{onClick:()=>_(d),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-medium rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 mx-auto",variants:w,whileHover:"hover",whileTap:"tap","aria-label":`Download ${d.title}`,children:[(0,h.jsx)(c.a4x,{})," Download Report"]}),(0,h.jsxs)("p",{className:"mt-2 text-sm text-gray-300",children:[d.title," (",d.size,")"]})]})}),(0,h.jsx)("div",{className:"px-6 py-4 border-t border-gray-200/20 bg-gray-900/50 text-right",children:(0,h.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Available for download only"})})]}):(0,h.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,h.jsx)("h3",{className:"mt-2 text-sm font-medium text-white",children:"No report selected"}),(0,h.jsx)("p",{className:"mt-1 text-sm text-gray-300",children:"Click on a report and verify the password to preview it"})]})})})})]})}),X>1&&(0,h.jsx)(P,{totalPages:X,currentPage:E,paginate:e=>M(e)})]}),(0,h.jsx)(v,{isOpen:F,onClose:()=>O(!1),onConfirm:Z,report:D}),(0,h.jsx)(y,{isOpen:L,onClose:()=>V(!1),report:D,onDownload:_})]})}}}]);
//# sourceMappingURL=3756.19ea7052.chunk.js.map