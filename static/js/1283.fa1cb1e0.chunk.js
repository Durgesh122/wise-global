"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[1283],{775:(e,a,t)=>{t.d(a,{A:()=>n});t(5043);var s=t(3546),l=t(7519),i=t(579);const r={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},n=e=>{let{isOpen:a,onClose:t,onConfirm:n,title:o,message:d}=e;return(0,i.jsx)(s.N,{children:a&&(0,i.jsx)(l.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsxs)(l.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o}),(0,i.jsx)("p",{className:"text-gray-300 mb-6",children:d}),(0,i.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,i.jsx)(l.P.button,{onClick:t,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:r,whileHover:"hover",whileTap:"tap",children:"Cancel"}),(0,i.jsx)(l.P.button,{onClick:n,className:"px-4 py-2 bg-red-500 rounded-lg hover:bg-red-600",variants:r,whileHover:"hover",whileTap:"tap",children:"Confirm"})]})]})})})}},928:(e,a,t)=>{t.d(a,{A:()=>i});t(5043);var s=t(7519),l=t(579);const i=()=>(0,l.jsx)(s.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})},1283:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var s=t(5043),l=t(3611),i=t(791),r=t(7488),n=t(3546),o=t(7519),d=t(5200),c=t(928),h=t(775),x=t(579);const m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},p={hover:{scale:1.05},tap:{scale:.95}},u=e=>{let{isOpen:a,onClose:t,rowData:l,onSave:i}=e;const[d,c]=(0,s.useState)(l||{});(0,s.useEffect)(()=>{c(l||{})},[l]);return a?(0,x.jsx)(n.N,{children:a&&(0,x.jsx)(o.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,x.jsxs)(o.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,x.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["Edit Row ",null===l||void 0===l?void 0:l.srNo]}),(0,x.jsx)("div",{className:"space-y-4",children:Object.keys(d).map(e=>"srNo"!==e&&(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"capitalize text-sm text-gray-400",children:e.replace(/([A-Z])/g," $1")}),(0,x.jsx)("input",{type:"number"===typeof d[e]?"number":"text",value:d[e]||"",onChange:a=>c({...d,[e]:a.target.value}),className:"w-full p-2 rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:e,disabled:"source"===e&&"Grand Total"===(null===l||void 0===l?void 0:l.srNo)})]},e))}),(0,x.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,x.jsx)(o.P.button,{onClick:t,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:p,whileHover:"hover",children:"Cancel"}),(0,x.jsx)(o.P.button,{onClick:()=>{d.srNo?(i(d),t()):r.oR.error("Invalid row data.")},className:"px-4 py-2 bg-green-500 rounded-lg hover:bg-green-600",variants:p,whileHover:"hover",children:"Save"})]})]})})}):null},g=e=>{let{tableData:a,handleEdit:t,handleDelete:s}=e;return(0,x.jsx)(o.P.div,{className:"bg-gray-800/30 rounded-xl shadow-lg border border-gray-200/20",variants:b,children:(0,x.jsxs)("table",{className:"w-full text-white responsive-table",children:[(0,x.jsx)("thead",{className:"bg-gray-700/50",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Sr. No."}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Received from"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Pending last month"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Received"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Resolved"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Pending"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Pending  3 Months"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Avg. Resolution time (days)"}),(0,x.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Actions"})]})}),(0,x.jsx)("tbody",{children:(Array.isArray(a)?a:Object.values(a||{})).map(e=>(0,x.jsxs)(o.P.tr,{className:"border-b border-gray-200/20 hover:bg-gray-700/20",variants:b,children:[(0,x.jsx)("td",{"data-label":"Sr. No.",className:"p-4",children:e.srNo}),(0,x.jsx)("td",{"data-label":"Received from",className:"p-4",children:e.source||"N/A"}),(0,x.jsx)("td",{"data-label":"Pending last month",className:"p-4",children:e.pendingLastMonth||0}),(0,x.jsx)("td",{"data-label":"Received",className:"p-4",children:e.received||0}),(0,x.jsx)("td",{"data-label":"Resolved",className:"p-4",children:e.resolved||0}),(0,x.jsx)("td",{"data-label":"Pending",className:"p-4",children:e.pending||0}),(0,x.jsx)("td",{"data-label":"Pending > 3 Months",className:"p-4",children:e.pending3Months||0}),(0,x.jsx)("td",{"data-label":"Avg. Resolution time (days)",className:"p-4",children:e.avgResolutionTime||0}),(0,x.jsxs)("td",{"data-label":"Actions",className:"p-4 flex gap-2",children:[(0,x.jsx)(o.P.button,{onClick:()=>t(e),className:"text-blue-500 hover:text-blue-700",variants:p,whileHover:"hover",children:(0,x.jsx)(d.SG1,{size:16})}),"Grand Total"!==e.srNo&&(0,x.jsx)(o.P.button,{onClick:()=>s(e.srNo),className:"text-red-500 hover:text-red-700",variants:p,whileHover:"hover",children:(0,x.jsx)(d.IXo,{size:16})})]})]},e.srNo))})]})})},v=()=>{const[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[d,b]=(0,s.useState)(!1),[p,v]=(0,s.useState)(null),[y,j]=(0,s.useState)(!1),[f,N]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=(0,l.KR)(i.db,"complaintTableData/data"),t=(0,l.Zy)(e,e=>{const t=e.val();a(t?Array.isArray(t)?t:Object.values(t):[]),n(!1)},e=>{r.oR.error("Failed to load complaint data: "+e.message),n(!1)});return()=>t()},[]);return(0,x.jsxs)(o.P.div,{variants:m,initial:"hidden",animate:"visible",children:[(0,x.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"Complaint Manager"}),t?(0,x.jsx)(c.A,{}):(0,x.jsx)(g,{tableData:e,handleEdit:e=>{v(e),b(!0)},handleDelete:e=>{N(e),j(!0)}}),(0,x.jsx)(u,{isOpen:d,onClose:()=>b(!1),rowData:p,onSave:async a=>{try{const t=e.map(e=>e.srNo===a.srNo?a:e);await(0,l.yo)((0,l.KR)(i.db,"complaintTableData"),{data:t}),r.oR.success("Row updated successfully.")}catch(t){r.oR.error("Failed to update row: "+t.message)}b(!1)}}),(0,x.jsx)(h.A,{isOpen:y,onClose:()=>j(!1),onConfirm:async()=>{if(f){try{const a=e.filter(e=>e.srNo!==f);await(0,l.yo)((0,l.KR)(i.db,"complaintTableData"),{data:a}),r.oR.success("Row deleted successfully.")}catch(a){r.oR.error("Failed to delete row: "+a.message)}j(!1),N(null)}},title:"Confirm Deletion",message:"Are you sure you want to delete this row?"})]})}}}]);
//# sourceMappingURL=1283.fa1cb1e0.chunk.js.map