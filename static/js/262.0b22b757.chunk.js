"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[262],{262:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(5043),i=s(3611),l=s(791),r=s(7488),n=s(7519),o=s(5200),c=s(5766),d=s.n(c),m=s(928),h=s(7684),x=s(761),p=s(775),u=s(579);const b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},y={hover:{scale:1.05},tap:{scale:.95}},j=e=>{let{submissions:t,handleDelete:s,sortOrder:a,handleSortToggle:i}=e;return(0,u.jsx)(n.P.div,{className:"bg-gray-800/30 rounded-xl shadow-lg border border-gray-200/20 overflow-x-auto p-2",variants:g,children:(0,u.jsxs)("table",{className:"min-w-full table-auto text-white",children:[(0,u.jsx)("thead",{className:"bg-gray-700/50",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:"Name"}),(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:"Mobile"}),(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:"City"}),(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:"Experience"}),(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:"Newsletter"}),(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:(0,u.jsxs)("button",{onClick:i,className:"hover:text-indigo-400 transition-colors",children:["Timestamp ","desc"===a?"\u2193":"\u2191"]})}),(0,u.jsx)("th",{className:"p-2 sm:p-4 text-left text-sm sm:text-base font-semibold",children:"Actions"})]})}),(0,u.jsx)("tbody",{children:t.map(e=>(0,u.jsxs)(n.P.tr,{className:"border-b border-gray-200/20 hover:bg-gray-700/20 transition-colors",variants:g,children:[(0,u.jsx)("td",{className:"p-4",children:e.name||"N/A"}),(0,u.jsx)("td",{className:"p-4",children:e.email||"N/A"}),(0,u.jsx)("td",{className:"p-4",children:e.phone||"N/A"}),(0,u.jsx)("td",{className:"p-4",children:e.interest||"N/A"}),(0,u.jsx)("td",{className:"p-4 max-w-xs truncate",children:e.message||"N/A"}),(0,u.jsx)("td",{className:"p-4",children:e.timestamp?new Date(e.timestamp).toLocaleString("en-IN"):"N/A"}),(0,u.jsx)("td",{className:"p-4",children:(0,u.jsx)(n.P.button,{onClick:()=>s(e.id),className:"text-red-500 hover:text-red-700",variants:y,whileHover:"hover",whileTap:"tap",children:(0,u.jsx)(o.IXo,{size:16})})})]},e.id))})]})})},f=()=>{const[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[g,f]=(0,a.useState)(!0),[v,N]=(0,a.useState)("desc"),[w,S]=(0,a.useState)(""),[C,A]=(0,a.useState)(1),[P]=(0,a.useState)(10),[k,T]=(0,a.useState)(!1),[R,O]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=(0,i.KR)(l.db,"homeFormSubmissions"),s=(0,i.Zy)(e,e=>{const s=e.val(),a=s?Object.entries(s).map(e=>{let[t,s]=e;return{id:t,...s}}):[];t(a),f(!1)},e=>{r.oR.error("Failed to load submissions: "+e.message),f(!1)});return()=>s()},[]);const E=(0,a.useCallback)(()=>{let t=[...e];w&&(t=t.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(w.toLowerCase())))),t.sort((e,t)=>"desc"===v?t.timestamp-e.timestamp:e.timestamp-t.timestamp),c(t),A(1)},[w,e,v]);(0,a.useEffect)(()=>{E()},[E]);const F=C*P,L=F-P,D=s.slice(L,F),H=Math.ceil(s.length/P);return(0,u.jsxs)(n.P.div,{variants:b,initial:"hidden",animate:"visible",children:[(0,u.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"Contact Submissions"}),(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsx)(h.A,{searchQuery:w,setSearchQuery:S,placeholder:"Search contacts..."}),(0,u.jsxs)(n.P.button,{onClick:()=>{const e=s.map(e=>({Name:e.name,Email:e.email,Phone:e.phone,Interest:e.interest,Message:e.message,Timestamp:new Date(e.timestamp).toLocaleString("en-IN")})),t=d().unparse(e),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(a),i.setAttribute("download","contact_submissions.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),r.oR.success("Submissions exported to CSV.")},className:"bg-green-500/80 text-white px-4 py-2 rounded-lg flex items-center gap-2",variants:y,whileHover:"hover",children:[(0,u.jsx)(o.a4x,{})," Export CSV"]})]}),g?(0,u.jsx)(m.A,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(j,{submissions:D,handleDelete:e=>{O(e),T(!0)},sortOrder:v,handleSortToggle:()=>N(e=>"desc"===e?"asc":"desc")}),H>1&&(0,u.jsx)(x.A,{totalPages:H,currentPage:C,paginate:A})]}),(0,u.jsx)(p.A,{isOpen:k,onClose:()=>T(!1),onConfirm:async()=>{if(R){try{await(0,i.TF)((0,i.KR)(l.db,`homeFormSubmissions/${R}`)),r.oR.success("Submission deleted successfully.")}catch(e){r.oR.error("Failed to delete submission: "+e.message)}T(!1),O(null)}},title:"Confirm Deletion",message:"Are you sure you want to delete this submission?"})]})}},761:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(7519),i=s(579);const l={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},r=e=>{let{totalPages:t,currentPage:s,paginate:r}=e;return(0,i.jsx)("div",{className:"mt-6 flex justify-center gap-2",children:Array.from({length:t},(e,t)=>(0,i.jsx)(a.P.button,{onClick:()=>r(t+1),className:"px-4 py-2 rounded-lg shadow-md transition-all duration-300 "+(s===t+1?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-700/50 text-white hover:bg-indigo-600/30"),variants:l,whileHover:"hover",whileTap:"tap","aria-label":`Go to page ${t+1}`,children:t+1},t+1))})}},775:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(3546),i=s(7519),l=s(579);const r={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},n=e=>{let{isOpen:t,onClose:s,onConfirm:n,title:o,message:c}=e;return(0,l.jsx)(a.N,{children:t&&(0,l.jsx)(i.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,l.jsxs)(i.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o}),(0,l.jsx)("p",{className:"text-gray-300 mb-6",children:c}),(0,l.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,l.jsx)(i.P.button,{onClick:s,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:r,whileHover:"hover",whileTap:"tap",children:"Cancel"}),(0,l.jsx)(i.P.button,{onClick:n,className:"px-4 py-2 bg-red-500 rounded-lg hover:bg-red-600",variants:r,whileHover:"hover",whileTap:"tap",children:"Confirm"})]})]})})})}},928:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(7519),i=s(579);const l=()=>(0,i.jsx)(a.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,i.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})},7684:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(7519),i=s(5200),l=s(579);const r={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},n=e=>{let{searchQuery:t,setSearchQuery:s,placeholder:n="Search..."}=e;return(0,l.jsxs)(a.P.div,{className:"relative w-full max-w-md mb-6",variants:r,children:[(0,l.jsx)(i.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,l.jsx)("input",{type:"text",placeholder:n,className:"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:t,onChange:e=>s(e.target.value),"aria-label":"Search"})]})}}}]);
//# sourceMappingURL=262.0b22b757.chunk.js.map