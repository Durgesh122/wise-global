{"version":3,"file":"static/js/6136.d1af133a.chunk.js","mappings":"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","sources":["components/admin/Pagination.js","components/admin/ConfirmationModal.js","components/admin/LoadingSpinner.js","pages/admin/PopupSubmissions.js","components/admin/SearchBar.js"],"sourcesContent":["import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst buttonVariants = {\r\n  hover: { scale: 1.05, boxShadow: '0px 4px 15px rgba(0, 0, 0, 0.2)' },\r\n  tap: { scale: 0.95 },\r\n};\r\n\r\nconst Pagination = ({ totalPages, currentPage, paginate }) => (\r\n  <div className=\"mt-6 flex justify-center gap-2\">\r\n    {Array.from({ length: totalPages }, (_, i) => (\r\n      <motion.button\r\n        key={i + 1}\r\n        onClick={() => paginate(i + 1)}\r\n        className={`px-4 py-2 rounded-lg shadow-md transition-all duration-300 ${\r\n          currentPage === i + 1\r\n            ? 'bg-gradient-to-r from-indigo-600 to-purple-600 text-white'\r\n            : 'bg-gray-700/50 text-white hover:bg-indigo-600/30'\r\n        }`}\r\n        variants={buttonVariants}\r\n        whileHover=\"hover\"\r\n        whileTap=\"tap\"\r\n        aria-label={`Go to page ${i + 1}`}\r\n      >\r\n        {i + 1}\r\n      </motion.button>\r\n    ))}\r\n  </div>\r\n);\r\n\r\nPagination.propTypes = {\r\n  totalPages: PropTypes.number.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  paginate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Pagination;","import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst buttonVariants = {\r\n  hover: { scale: 1.05, boxShadow: '0px 4px 15px rgba(0, 0, 0, 0.2)' },\r\n  tap: { scale: 0.95 },\r\n};\r\n\r\nconst ConfirmationModal = ({ isOpen, onClose, onConfirm, title, message }) => (\r\n  <AnimatePresence>\r\n    {isOpen && (\r\n      <motion.div\r\n        className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <motion.div\r\n          className=\"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white\"\r\n          initial={{ scale: 0.8, opacity: 0 }}\r\n          animate={{ scale: 1, opacity: 1 }}\r\n          exit={{ scale: 0.8, opacity: 0 }}\r\n        >\r\n          <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>\r\n          <p className=\"text-gray-300 mb-6\">{message}</p>\r\n          <div className=\"flex justify-end gap-4\">\r\n            <motion.button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600\"\r\n              variants={buttonVariants}\r\n              whileHover=\"hover\"\r\n              whileTap=\"tap\"\r\n            >\r\n              Cancel\r\n            </motion.button>\r\n            <motion.button\r\n              onClick={onConfirm}\r\n              className=\"px-4 py-2 bg-red-500 rounded-lg hover:bg-red-600\"\r\n              variants={buttonVariants}\r\n              whileHover=\"hover\"\r\n              whileTap=\"tap\"\r\n            >\r\n              Confirm\r\n            </motion.button>\r\n          </div>\r\n        </motion.div>\r\n      </motion.div>\r\n    )}\r\n  </AnimatePresence>\r\n);\r\n\r\nConfirmationModal.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onConfirm: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ConfirmationModal;","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst LoadingSpinner = () => (\r\n  <motion.div\r\n    className=\"flex justify-center items-center py-6\"\r\n    initial={{ opacity: 0 }}\r\n    animate={{ opacity: 1 }}\r\n    transition={{ duration: 0.5 }}\r\n  >\r\n    <div className=\"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin\"></div>\r\n  </motion.div>\r\n);\r\n\r\nexport default LoadingSpinner;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { db } from '../../firebase';\r\nimport { ref, onValue, off, remove } from 'firebase/database';\r\nimport { motion } from 'framer-motion';\r\nimport { toast } from 'react-toastify';\r\nimport Papa from 'papaparse';\r\nimport { FiDownload, FiTrash2 } from 'react-icons/fi';\r\nimport ConfirmationModal from '../../components/admin/ConfirmationModal';\r\nimport LoadingSpinner from '../../components/admin/LoadingSpinner';\r\nimport Pagination from '../../components/admin/Pagination';\r\nimport SearchBar from '../../components/admin/SearchBar';\r\n\r\nconst PopupSubmissions = () => {\r\n  const [submissions, setSubmissions] = useState([]);\r\n  const [filteredSubmissions, setFilteredSubmissions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [itemToDelete, setItemToDelete] = useState(null);\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(10);\r\n\r\n  useEffect(() => {\r\n    const submissionsRef = ref(db, 'popoForms');\r\n    const listener = onValue(\r\n      submissionsRef,\r\n      (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) {\r\n          const submissionList = Object.keys(data)\r\n            .map((key) => ({\r\n              id: key,\r\n              ...data[key],\r\n            }))\r\n            .sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp)); // Sort by newest first\r\n          setSubmissions(submissionList);\r\n        } else {\r\n          setSubmissions([]);\r\n        }\r\n        setLoading(false);\r\n      },\r\n      (error) => {\r\n        console.error('Firebase read failed: ', error);\r\n        setError('Failed to fetch submissions. Please try again later.');\r\n        setLoading(false);\r\n      }\r\n    );\r\n\r\n    // Cleanup listener on component unmount\r\n    return () => {\r\n      off(submissionsRef, 'value', listener);\r\n    };\r\n  }, []);\r\n\r\n  const handleSearchAndSort = useCallback(() => {\r\n    let processedData = [...submissions];\r\n\r\n    if (searchQuery) {\r\n      processedData = processedData.filter((s) =>\r\n        Object.values(s).some((val) =>\r\n          String(val).toLowerCase().includes(searchQuery.toLowerCase())\r\n        )\r\n      );\r\n    }\r\n\r\n    processedData.sort((a, b) => {\r\n      const dateA = new Date(a.timestamp).getTime();\r\n      const dateB = new Date(b.timestamp).getTime();\r\n      return sortOrder === 'desc' ? dateB - dateA : dateA - dateB;\r\n    });\r\n\r\n    setFilteredSubmissions(processedData);\r\n    setCurrentPage(1);\r\n  }, [searchQuery, submissions, sortOrder]);\r\n\r\n  useEffect(() => {\r\n    handleSearchAndSort();\r\n  }, [handleSearchAndSort]);\r\n\r\n  const handleDeleteClick = (id) => {\r\n    setItemToDelete(id);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (itemToDelete) {\r\n      try {\r\n        await remove(ref(db, `popoForms/${itemToDelete}`));\r\n        toast.success('Submission deleted successfully.');\r\n      } catch (error) {\r\n        toast.error(`Failed to delete submission: ${error.message}`);\r\n      }\r\n      setIsModalOpen(false);\r\n      setItemToDelete(null);\r\n    }\r\n  };\r\n\r\n  const handleExportCSV = () => {\r\n    if (filteredSubmissions.length === 0) {\r\n      toast.info('No data to export.');\r\n      return;\r\n    }\r\n    const csvData = filteredSubmissions.map((s) => ({\r\n      Timestamp: new Date(s.timestamp).toLocaleString('en-IN'),\r\n      Name: s.name,\r\n      Mobile: s.mobile,\r\n      City: s.city,\r\n      Experience: s.experience,\r\n      Newsletter: s.newsletter ? 'Yes' : 'No',\r\n    }));\r\n    const csv = Papa.unparse(csvData);\r\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.setAttribute('download', 'popup_submissions.csv');\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    toast.success('Submissions exported to CSV.');\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner />;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"text-center text-red-500\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n      className=\"bg-gray-800/50 p-6 rounded-lg shadow-lg\"\r\n    >\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-white\">Popup Form Submissions</h1>\r\n        <motion.button\r\n          onClick={handleExportCSV}\r\n          className=\"bg-green-500/80 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-600/90 transition-colors\"\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n        >\r\n          <FiDownload />\r\n          <span>Export CSV</span>\r\n        </motion.button>\r\n      </div>\r\n      <div className=\"mb-4\">\r\n        <SearchBar searchQuery={searchQuery} setSearchQuery={setSearchQuery} placeholder=\"Search submissions...\" />\r\n      </div>\r\n      {filteredSubmissions.length === 0 ? (\r\n        <p className=\"text-gray-400\">No submissions yet.</p>\r\n      ) : (\r\n        <>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full bg-gray-900/70 rounded-lg\">\r\n              <thead className=\"bg-gray-700/50\">\r\n                <tr>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">\r\n                    <button onClick={() => setSortOrder(sortOrder === 'desc' ? 'asc' : 'desc')} className=\"hover:text-indigo-400 transition-colors\">\r\n                      Timestamp {sortOrder === 'desc' ? '↓' : '↑'}\r\n                    </button>\r\n                  </th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Name</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Mobile</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">City</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Experience</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Newsletter</th>\r\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-700\">\r\n                {filteredSubmissions.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage).map((submission) => (\r\n                  <tr key={submission.id} className=\"hover:bg-gray-800/50 transition-colors\">\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{new Date(submission.timestamp).toLocaleString('en-IN')}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{submission.name}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{submission.mobile}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{submission.city}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{submission.experience}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-300\">{submission.newsletter ? 'Yes' : 'No'}</td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <motion.button\r\n                        onClick={() => handleDeleteClick(submission.id)}\r\n                        className=\"text-red-500 hover:text-red-700\"\r\n                        whileHover={{ scale: 1.2 }}\r\n                        aria-label=\"Delete submission\"\r\n                      >\r\n                        <FiTrash2 />\r\n                      </motion.button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <Pagination\r\n            currentPage={currentPage}\r\n            totalItems={filteredSubmissions.length}\r\n            itemsPerPage={itemsPerPage}\r\n            onPageChange={setCurrentPage}\r\n          />\r\n        </>\r\n      )}\r\n      <ConfirmationModal\r\n        isOpen={isModalOpen}\r\n        onClose={() => setIsModalOpen(false)}\r\n        onConfirm={confirmDelete}\r\n        title=\"Confirm Deletion\"\r\n        message=\"Are you sure you want to delete this submission? This action cannot be undone.\"\r\n      />\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default PopupSubmissions;","import React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { FiSearch } from 'react-icons/fi';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst itemVariants = {\r\n  hidden: { opacity: 0, y: 20 },\r\n  visible: { opacity: 1, y: 0, transition: { duration: 0.5 } },\r\n};\r\n\r\nconst SearchBar = ({ searchQuery, setSearchQuery, placeholder = \"Search...\" }) => (\r\n  <motion.div\r\n    className=\"relative w-full max-w-md mb-6\"\r\n    variants={itemVariants}\r\n  >\r\n    <FiSearch className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n    <input\r\n      type=\"text\"\r\n      placeholder={placeholder}\r\n      className=\"w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/30 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300\"\r\n      value={searchQuery}\r\n      onChange={(e) => setSearchQuery(e.target.value)}\r\n      aria-label=\"Search\"\r\n    />\r\n  </motion.div>\r\n);\r\n\r\nSearchBar.propTypes = {\r\n  searchQuery: PropTypes.string.isRequired,\r\n  setSearchQuery: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n};\r\n\r\nexport default SearchBar;"],"names":["buttonVariants","hover","scale","boxShadow","tap","_ref","totalPages","currentPage","paginate","_jsx","className","children","Array","from","length","_","i","motion","button","onClick","variants","whileHover","whileTap","isOpen","onClose","onConfirm","title","message","AnimatePresence","div","initial","opacity","animate","exit","_jsxs","LoadingSpinner","transition","duration","PopupSubmissions","submissions","setSubmissions","useState","filteredSubmissions","setFilteredSubmissions","loading","setLoading","error","setError","isModalOpen","setIsModalOpen","itemToDelete","setItemToDelete","sortOrder","setSortOrder","searchQuery","setSearchQuery","setCurrentPage","itemsPerPage","useEffect","submissionsRef","ref","db","listener","onValue","snapshot","data","val","submissionList","Object","keys","map","key","id","sort","a","b","Date","timestamp","console","off","handleSearchAndSort","useCallback","processedData","filter","s","values","some","String","toLowerCase","includes","dateA","getTime","dateB","y","handleExportCSV","toast","info","csvData","Timestamp","toLocaleString","Name","name","Mobile","mobile","City","city","Experience","experience","Newsletter","newsletter","csv","Papa","blob","Blob","type","link","document","createElement","href","URL","createObjectURL","setAttribute","body","appendChild","click","removeChild","success","FiDownload","SearchBar","placeholder","_Fragment","slice","submission","handleDeleteClick","FiTrash2","Pagination","totalItems","onPageChange","ConfirmationModal","async","remove","itemVariants","hidden","visible","FiSearch","value","onChange","e","target"],"sourceRoot":""}