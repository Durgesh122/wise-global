"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[8327],{8327:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(5043),r=a(4858),i=a(7519),l=a(8147),n=a(184),d=a(3611),o=a(7488),c=a(791),m=a(5475),u=a(579);const x={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{staggerChildren:.1,delayChildren:.2,duration:.7,ease:"easeOut"}}},h={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},p=()=>{const{register:e,handleSubmit:t,formState:{errors:a},reset:p}=(0,r.mN)(),[b,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[j,N]=(0,s.useState)(null),[w,y]=(0,s.useState)(null),P=function(t,s,r){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text",n=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0;return(0,u.jsxs)(i.P.div,{variants:h,className:"w-full",children:[(0,u.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-white mb-2",children:s}),(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-white/70 text-xl",children:r}),(0,u.jsx)("input",{id:t,type:l,...e(t,n),placeholder:`Enter your ${s.replace("*","").toLowerCase()}`,className:"w-full pl-11 pr-4 py-3 rounded-lg border custom-box-bg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 "+(a[t]?"border-red-500 ring-red-500/50":"border-gray-300/50")})]}),d&&(0,u.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:d}),a[t]&&(0,u.jsx)("p",{className:"text-red-400 text-xs mt-1",children:a[t].message})]})},C=(t,s,r,l,d,o)=>(0,u.jsxs)(i.P.div,{variants:h,className:"w-full",children:[(0,u.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-white mb-2",children:s}),(0,u.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-4 text-center transition-all duration-300 "+(a[t]?"border-red-500":"border-gray-300/50 hover:border-blue-500"),children:[(0,u.jsx)("input",{id:t,type:"file",accept:o,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",...e(t,{required:!d&&`${s.replace("*","")} is required`,validate:{fileSize:e=>!e[0]||e[0].size<=5e6||"File size must be less than 5MB",fileType:e=>{if(!e[0])return!0;return o.split(",").some(t=>e[0].type.includes(t.trim()))||"Invalid file type. Accepted: PDF, JPG, PNG"}}}),onChange:e=>{e.target.files&&e.target.files[0]&&l(e.target.files[0])}}),d?(0,u.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[d.type.includes("pdf")?(0,u.jsx)(n.kl1,{className:"text-red-400 text-2xl"}):(0,u.jsx)(n.R1W,{className:"text-blue-400 text-2xl"}),(0,u.jsx)("span",{className:"text-sm font-medium truncate max-w-xs",children:d.name})]}),(0,u.jsx)("button",{type:"button",onClick:()=>l(null),className:"text-red-500 hover:text-red-400 transition-colors","aria-label":"Remove file",children:(0,u.jsx)(n._Hm,{size:20})})]}):(0,u.jsxs)("div",{className:"flex flex-col items-center justify-center text-white/70",children:[r,(0,u.jsx)("p",{className:"mt-2 text-sm",children:"Click or drag file to upload"}),(0,u.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, JPG, PNG (Max 5MB)"})]})]}),a[t]&&(0,u.jsx)("p",{className:"text-red-400 text-xs mt-1",children:a[t].message})]});return(0,u.jsx)("div",{className:"py-12",children:(0,u.jsxs)(i.P.div,{className:"max-w-4xl mx-auto",initial:"hidden",animate:"visible",variants:x,children:[(0,u.jsxs)(i.P.div,{className:"text-sm mb-8",variants:h,children:[(0,u.jsx)(m.N_,{to:"/",className:"hover:text-blue-400",children:"Home"}),(0,u.jsx)("span",{className:"mx-2",children:"/"}),(0,u.jsx)("span",{className:"text-blue-400",children:"Client Service Consent"})]}),(0,u.jsxs)(i.P.div,{className:"bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-xl border border-white/20",variants:h,children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("h2",{className:"text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:"Client Service Consent"}),(0,u.jsx)("p",{className:"mt-2 text-gray-300",children:"Please fill out the form below and upload required documents."})]}),(0,u.jsxs)("form",{onSubmit:t(async e=>{g(!0);const t=(0,d.VC)((0,d.KR)(c.db,"clientServiceConsentForms")),a=t.key;try{const s=async(e,t)=>{if(!e)return{downloadURL:"",storagePath:""};const s=`client-consents/${a}/${t}-${e.name}`,r=(0,l.KR)(c.I,s);await(0,l.D)(r,e);return{downloadURL:await(0,l.qk)(r),storagePath:s}},[r,i,n]=await Promise.all([s(f,"pan"),s(j,"aadhaar"),s(w,"signature")]),m={...e,panCard:r,aadhaarCard:i,signature:n,timestamp:(new Date).toISOString()};await(0,d.hZ)(t,m),o.oR.success("Consent form submitted successfully!",{position:"top-center"}),p(),v(null),N(null),y(null)}catch(s){console.error("Error submitting form:",s),o.oR.error(`Failed to submit form: ${s.message}`,{position:"top-center"})}finally{g(!1)}}),className:"space-y-6",children:[(0,u.jsxs)(i.P.div,{variants:x,className:"p-6 rounded-lg bg-white/5 border border-white/10",children:[(0,u.jsx)("h3",{className:"text-xl font-semibold text-white border-b border-white/20 pb-2 mb-6",children:"Client Information"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P("clientName","Client Name*",(0,u.jsx)(n.x$1,{}),"text",{required:"Client name is required",minLength:{value:2,message:"Client name must be at least 2 characters"}}),P("fatherName","Father's Name*",(0,u.jsx)(n.p7b,{}),"text",{required:"Father's name is required",minLength:{value:2,message:"Father's name must be at least 2 characters"}}),P("clientId","Client ID*",(0,u.jsx)(n.AWX,{}),"text",{required:"Client ID is required",pattern:{value:/^[A-Za-z0-9]{4,}$/,message:"Client ID must be alphanumeric and at least 4 characters"}},"Ask your representative for the client ID."),P("email","Email ID*",(0,u.jsx)(n.maD,{}),"email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),P("dob","Date Of Birth*",(0,u.jsx)(n.bfZ,{}),"date",{required:"Date of birth is required",validate:{pastDate:e=>{const t=new Date;return new Date(e)<t||"Date of birth must be in the past"}}}),P("pan","PAN*",(0,u.jsx)(n.k89,{}),"text",{required:"PAN is required",pattern:{value:/[A-Z]{5}[0-9]{4}[A-Z]{1}/,message:"Invalid PAN format"},minLength:{value:10,message:"PAN must be 10 characters"},maxLength:{value:10,message:"PAN must be 10 characters"}}),P("aadhaar","Aadhaar*",(0,u.jsx)(n.Y9o,{}),"text",{required:"Aadhaar is required",pattern:{value:/^[2-9]{1}[0-9]{3}[0-9]{4}[0-9]{4}$/,message:"Invalid Aadhaar format"},minLength:{value:12,message:"Aadhaar must be 12 digits"},maxLength:{value:12,message:"Aadhaar must be 12 digits"}})]})]}),(0,u.jsxs)(i.P.div,{variants:x,className:"p-6 rounded-lg bg-white/5 border border-white/10",children:[(0,u.jsx)("h3",{className:"text-xl font-semibold text-white border-b border-white/20 pb-2 mb-6",children:"Document Uploads"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[C("panFile","PAN Card Upload*",(0,u.jsx)(n.HVe,{size:24}),v,f,"image/jpeg,image/png,application/pdf"),C("aadhaarFile","Aadhaar Card Upload*",(0,u.jsx)(n.HVe,{size:24}),N,j,"image/jpeg,image/png,application/pdf"),C("signatureFile","Signature Upload*",(0,u.jsx)(n.HVe,{size:24}),y,w,"image/jpeg,image/png,application/pdf")]}),(0,u.jsxs)(i.P.div,{variants:h,children:[(0,u.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-white mb-2",children:"Address*"}),(0,u.jsx)("textarea",{id:"address",...e("address",{required:"Address is required",minLength:{value:10,message:"Address must be at least 10 characters"}}),rows:"4",placeholder:"Enter Full Address",className:"w-full px-4 py-3 rounded-lg border custom-box-bg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-300 "+(a.address?"border-red-500":"border-gray-300/50")}),a.address&&(0,u.jsx)("p",{className:"text-red-400 text-xs mt-1",children:a.address.message})]})]}),(0,u.jsx)(i.P.div,{variants:h,children:(0,u.jsxs)(i.P.button,{type:"submit",disabled:b,className:"w-full shine-hover py-3 px-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transform transition-all duration-300",whileHover:{scale:b?1:1.02},whileTap:{scale:b?1:.98},children:[b?"Submitting...":"Submit",!b&&(0,u.jsx)(n.Z0P,{className:"inline ml-2"})]})})]})]})]})})}}}]);
//# sourceMappingURL=8327.6e5678a0.chunk.js.map