"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[3756],{3756:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var i=a(5043),s=a(3611),r=a(791),l=a(7488),o=a(7519),n=a(3546),d=a(5200),c=a(7115),x=a.n(c),p=(a(6473),a(579));const h=["Monday","Tuesday","Wednesday","Thursday","Friday"],u=["Market","Technical","Financial","Competitor","Other"],m={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,ease:"easeOut",staggerChildren:.2}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},f={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(79, 70, 229, 0.4)"},tap:{scale:.95}},w=()=>(0,p.jsx)(o.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,p.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),b=e=>{let{isOpen:t,onClose:a,onConfirm:i,report:s}=e;return(0,p.jsx)(n.N,{children:t&&(0,p.jsx)(o.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,p.jsxs)(o.P.div,{className:"bg-white/10 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["Verify Password for ",null===s||void 0===s?void 0:s.title]}),(0,p.jsx)("input",{type:"text",placeholder:"Enter 4-digit password",className:"w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 mb-4",onChange:e=>i(e.target.value,s),"aria-label":`Password for ${null===s||void 0===s?void 0:s.title}`}),(0,p.jsx)("div",{className:"flex justify-end gap-4",children:(0,p.jsx)(o.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",variants:f,whileHover:"hover",whileTap:"tap","aria-label":"Cancel password verification",children:"Cancel"})})]})})})},v=e=>{let{isOpen:t,onClose:a,report:i,onDownload:s}=e;return(0,p.jsx)(n.N,{children:t&&(0,p.jsx)(o.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,p.jsxs)(o.P.div,{className:"bg-white/10 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-lg w-full",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,p.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:null===i||void 0===i?void 0:i.title}),(0,p.jsx)("p",{className:"text-gray-300 mb-4",children:null===i||void 0===i?void 0:i.description}),(0,p.jsxs)("p",{className:"text-sm text-gray-400 mb-2",children:["Category: ",null===i||void 0===i?void 0:i.category]}),(0,p.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:["Size: ",null===i||void 0===i?void 0:i.size]}),(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/337/337946.png",alt:"PDF Thumbnail",className:"w-32 h-32 object-contain mx-auto mb-4"}),(0,p.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,p.jsxs)(o.P.button,{onClick:()=>s(i),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",variants:f,whileHover:"hover",whileTap:"tap","aria-label":`Download ${null===i||void 0===i?void 0:i.title}`,children:[(0,p.jsx)(d.a4x,{})," Download"]}),(0,p.jsx)(o.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",variants:f,whileHover:"hover",whileTap:"tap","aria-label":"Close preview",children:"Close"})]})]})})})},y=e=>{let{activeDay:t,setActiveDay:a}=e;return(0,p.jsx)(o.P.div,{className:"mb-8 flex justify-center",variants:g,"data-aos":"fade-up",children:(0,p.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:h.map(e=>(0,p.jsx)(o.P.button,{onClick:()=>a(e),className:`px-6 py-3 text-sm font-medium transition-all duration-300 ${t===e?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-white/10 text-white hover:bg-white/20"} ${"Monday"===e?"rounded-l-lg":""} ${"Friday"===e?"rounded-r-lg":""}`,variants:f,whileHover:"hover",whileTap:"tap","aria-label":`Select ${e}`,children:e},e))})})},j=e=>{let{searchTerm:t,setSearchTerm:a,selectedCategory:i,setSelectedCategory:s}=e;return(0,p.jsxs)(o.P.div,{className:"mb-6 flex flex-col md:flex-row gap-4",variants:g,"data-aos":"fade-up",children:[(0,p.jsxs)("div",{className:"relative flex-grow",children:[(0,p.jsx)(d.CKj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,p.jsx)("input",{type:"text",placeholder:"Search reports...",className:"pl-10 pr-4 py-3 w-full rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:t,onChange:e=>a(e.target.value),"aria-label":"Search reports"})]}),(0,p.jsxs)("select",{className:"px-4 py-3 rounded-lg bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:i,onChange:e=>s(e.target.value),"aria-label":"Select report category",children:[(0,p.jsx)("option",{value:"All",children:"All Categories"}),u.map(e=>(0,p.jsx)("option",{value:e,className:"bg-gray-800",children:e},e))]})]})},N=e=>{let{report:t,isSelected:a,onVerify:i,onPreview:s}=e;return(0,p.jsxs)(o.P.li,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 rounded-lg cursor-pointer transition-colors duration-300 bg-white/5 backdrop-blur-lg border border-gray-200/10 "+(a?"bg-indigo-500/20 border-indigo-200/20":"hover:bg-gray-700/50"),"data-aos":"fade-up",children:[(0,p.jsxs)("div",{className:"flex justify-between items-start",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:"font-medium text-white",children:t.title}),(0,p.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:t.description})]}),(0,p.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:t.size})]}),(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsx)("span",{className:"inline-block text-xs font-medium text-indigo-400",children:t.category})}),(0,p.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,p.jsxs)(o.P.button,{onClick:()=>s(t),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",variants:f,whileHover:"hover",whileTap:"tap","aria-label":`Preview ${t.title}`,children:[(0,p.jsx)(d.Vap,{})," Preview"]}),(0,p.jsxs)(o.P.button,{onClick:()=>i(t),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-700 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2",variants:f,whileHover:"hover",whileTap:"tap","aria-label":`Verify password for ${t.title}`,children:[(0,p.jsx)(d.F5$,{})," Verify"]})]})]})},C=e=>{let{totalPages:t,currentPage:a,paginate:i}=e;return(0,p.jsx)(o.P.div,{className:"mt-6 flex justify-center gap-3",variants:g,"data-aos":"fade-up",children:Array.from({length:t},(e,t)=>(0,p.jsx)(o.P.button,{onClick:()=>i(t+1),className:"px-4 py-2 rounded-lg shadow-md transition-all duration-300 "+(a===t+1?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-200 text-black hover:bg-gray-300"),variants:f,whileHover:"hover",whileTap:"tap","aria-label":`Go to page ${t+1}`,children:t+1},t+1))})};const P=function(){const[e,t]=(0,i.useState)("Monday"),[a,n]=(0,i.useState)(null),[c,u]=(0,i.useState)({}),[P,k]=(0,i.useState)(""),[S,T]=(0,i.useState)("All"),[R,D]=(0,i.useState)(null),[z,$]=(0,i.useState)(!0),[A,H]=(0,i.useState)(!1),[F,O]=(0,i.useState)(!1),[L,V]=(0,i.useState)(1),[E]=(0,i.useState)(5),[M,U]=(0,i.useState)("title"),[B,K]=(0,i.useState)("asc");(0,i.useEffect)(()=>{x().init({duration:800,once:!0}),$(!0);const e=(0,s.KR)(r.db,"reports"),t=(0,s.Zy)(e,e=>{const t=e.val();if(t){const e=Object.entries(t).map(e=>{let[t,a]=e;return{id:t,...a}}),a=h.reduce((t,a)=>(t[a]=e.filter(e=>e.day===a),t),{});u(a),l.oR.success("Reports loaded successfully.",{position:"top-center",autoClose:2e3})}else u(h.reduce((e,t)=>({...e,[t]:[]}),{})),l.oR.info("No reports found.",{position:"top-center",autoClose:2e3});$(!1)},e=>{console.error("Error fetching reports:",e),l.oR.error("Failed to load reports: "+e.message,{position:"top-center"}),$(!1)});return()=>t()},[]),(0,i.useEffect)(()=>{n(null),D(null),V(1)},[e]);const W=(0,i.useCallback)((e,t)=>{e?e===t.password?(n(t),D(t),H(!1),l.oR.success("Password verified successfully.",{position:"top-center"})):l.oR.error("Incorrect password.",{position:"top-center"}):l.oR.error("Please enter a password.",{position:"top-center"})},[]),_=e=>{if(R&&R.id===e.id)try{const t=e.file.split(",")[1],a=atob(t),i=new Array(a.length);for(let e=0;e<a.length;e++)i[e]=a.charCodeAt(e);const s=new Uint8Array(i),r=new Blob([s],{type:"application/pdf"}),o=URL.createObjectURL(r),n=document.createElement("a");n.href=o,n.download=e.filename||`${e.title}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o),l.oR.success("Report downloaded successfully.",{position:"top-center"}),O(!1)}catch(t){console.error("Error downloading report:",t),l.oR.error("Failed to download report: "+t.message,{position:"top-center"})}else l.oR.error("Please verify the password first.",{position:"top-center"})},G=(c[e]||[]).filter(e=>{const t=e.title.toLowerCase().includes(P.toLowerCase()),a="All"===S||e.category===S;return t&&a}).sort((e,t)=>{if("title"===M)return"asc"===B?e.title.localeCompare(t.title):t.title.localeCompare(e.title);if("size"===M){const a=parseFloat(e.size),i=parseFloat(t.size);return"asc"===B?a-i:i-a}return 0}),I=L*E,Z=I-E,q=G.slice(Z,I),J=Math.ceil(G.length/E);return(0,p.jsxs)(o.P.div,{className:"min-h-screen bg-transparent py-8 px-4 sm:px-6 lg:px-8 pt-20",variants:m,initial:"hidden",animate:"visible",children:[(0,p.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,p.jsxs)(o.P.div,{className:"text-center mb-12",variants:g,"data-aos":"fade-up",children:[(0,p.jsx)("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white tracking-tight",children:"Research Reports"}),(0,p.jsx)("p",{className:"mt-5 max-w-xl mx-auto text-xl text-gray-300",children:"Daily analysis and insights"})]}),(0,p.jsx)(y,{activeDay:e,setActiveDay:t}),(0,p.jsx)(j,{searchTerm:P,setSearchTerm:k,selectedCategory:S,setSelectedCategory:T}),(0,p.jsxs)(o.P.div,{className:"mb-6 flex justify-end gap-4",variants:g,"data-aos":"fade-up",children:[(0,p.jsxs)("select",{className:"px-4 py-2 rounded-lg bg-white/10 text-white focus:outline-none focus:ring-2 focus:ring-indigo-400 shadow-md transition-all duration-300",value:M,onChange:e=>U(e.target.value),"aria-label":"Sort reports by",children:[(0,p.jsx)("option",{value:"title",children:"Sort by Title"}),(0,p.jsx)("option",{value:"size",children:"Sort by Size"})]}),(0,p.jsx)(o.P.button,{onClick:()=>K("asc"===B?"desc":"asc"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-300",variants:f,whileHover:"hover",whileTap:"tap","aria-label":"Sort "+("asc"===B?"descending":"ascending"),children:"asc"===B?"Sort \u2193":"Sort \u2191"})]}),(0,p.jsx)(o.P.div,{className:"bg-white/10 backdrop-blur-lg shadow-xl rounded-lg overflow-hidden",variants:g,"data-aos":"fade-up",children:(0,p.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,p.jsx)("div",{className:"w-full md:w-1/3 border-r border-gray-200/20",children:(0,p.jsxs)("div",{className:"p-6",children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-white mb-4",children:e}),z?(0,p.jsx)(w,{}):q.length>0?(0,p.jsx)("ul",{className:"space-y-4",children:q.map(e=>(0,p.jsx)(N,{report:e,isSelected:(null===a||void 0===a?void 0:a.id)===e.id,onVerify:()=>{D(e),H(!0)},onPreview:()=>(e=>{D(e),O(!0)})(e)},e.id))}):(0,p.jsx)("p",{className:"text-gray-300 text-sm",children:"No reports found."})]})}),(0,p.jsx)("div",{className:"w-full md:w-2/3 bg-gray-900/50",children:(0,p.jsx)("div",{className:"p-6 h-full",children:a?(0,p.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-white/10 backdrop-blur-lg shadow-sm rounded-lg overflow-hidden h-full flex flex-col","data-aos":"fade-up",children:[(0,p.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200/20",children:[(0,p.jsx)("h3",{className:"text-lg font-medium text-white",children:a.title}),(0,p.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:a.description})]}),(0,p.jsx)("div",{className:"flex-grow p-6 flex items-center justify-center bg-gray-800/50",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("div",{className:"mb-4 p-4 bg-white/10 rounded-lg shadow-inner",children:(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/337/337946.png",alt:"PDF Thumbnail",className:"w-32 h-32 object-contain mx-auto"})}),(0,p.jsxs)(o.P.button,{onClick:()=>_(a),className:"px-6 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-medium rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2 mx-auto",variants:f,whileHover:"hover",whileTap:"tap","aria-label":`Download ${a.title}`,children:[(0,p.jsx)(d.a4x,{})," Download Report"]}),(0,p.jsxs)("p",{className:"mt-2 text-sm text-gray-300",children:[a.title," (",a.size,")"]})]})}),(0,p.jsx)("div",{className:"px-6 py-4 border-t border-gray-200/20 bg-gray-900/50 text-right",children:(0,p.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Available for download only"})})]}):(0,p.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,p.jsxs)("div",{className:"text-center",children:[(0,p.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,p.jsx)("h3",{className:"mt-2 text-sm font-medium text-white",children:"No report selected"}),(0,p.jsx)("p",{className:"mt-1 text-sm text-gray-300",children:"Click on a report and verify the password to preview it"})]})})})})]})}),J>1&&(0,p.jsx)(C,{totalPages:J,currentPage:L,paginate:e=>V(e)})]}),(0,p.jsx)(b,{isOpen:A,onClose:()=>H(!1),onConfirm:W,report:R}),(0,p.jsx)(v,{isOpen:F,onClose:()=>O(!1),report:R,onDownload:_})]})}}}]);
//# sourceMappingURL=3756.ad7d11d6.chunk.js.map