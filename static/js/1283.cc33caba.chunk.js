"use strict";(self.webpackChunkwise_global=self.webpackChunkwise_global||[]).push([[1283],{775:(e,t,a)=>{a.d(t,{A:()=>n});a(5043);var s=a(3546),l=a(7519),i=a(579);const r={hover:{scale:1.05,boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}},n=e=>{let{isOpen:t,onClose:a,onConfirm:n,title:o,message:d}=e;return(0,i.jsx)(s.N,{children:t&&(0,i.jsx)(l.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsxs)(l.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,i.jsx)("h3",{className:"text-lg font-semibold mb-4",children:o}),(0,i.jsx)("p",{className:"text-gray-300 mb-6",children:d}),(0,i.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,i.jsx)(l.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:r,whileHover:"hover",whileTap:"tap",children:"Cancel"}),(0,i.jsx)(l.P.button,{onClick:n,className:"px-4 py-2 bg-red-500 rounded-lg hover:bg-red-600",variants:r,whileHover:"hover",whileTap:"tap",children:"Confirm"})]})]})})})}},928:(e,t,a)=>{a.d(t,{A:()=>i});a(5043);var s=a(7519),l=a(579);const i=()=>(0,l.jsx)(s.P.div,{className:"flex justify-center items-center py-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:(0,l.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})},1283:(e,t,a)=>{a.r(t),a.d(t,{default:()=>v});var s=a(5043),l=a(3611),i=a(791),r=a(7488),n=a(3546),o=a(7519),d=a(5200),c=a(928),x=a(775),h=a(579);const m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},b={hover:{scale:1.05},tap:{scale:.95}},u=e=>{let{isOpen:t,onClose:a,rowData:l,onSave:i}=e;const[d,c]=(0,s.useState)(l||{});(0,s.useEffect)(()=>{c(l||{})},[l]);return t?(0,h.jsx)(n.N,{children:t&&(0,h.jsx)(o.P.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,h.jsxs)(o.P.div,{className:"bg-gray-800/50 backdrop-blur-lg p-6 rounded-xl shadow-xl border border-gray-200/20 max-w-md w-full text-white",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[(0,h.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:["Edit Row ",null===l||void 0===l?void 0:l.srNo]}),(0,h.jsx)("div",{className:"space-y-4",children:Object.keys(d).map(e=>"srNo"!==e&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"capitalize text-sm text-gray-400",children:e.replace(/([A-Z])/g," $1")}),(0,h.jsx)("input",{type:"number"===typeof d[e]?"number":"text",value:d[e]||"",onChange:t=>c({...d,[e]:t.target.value}),className:"w-full p-2 rounded-lg bg-white/10 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-indigo-400",placeholder:e,disabled:"source"===e&&"Grand Total"===(null===l||void 0===l?void 0:l.srNo)})]},e))}),(0,h.jsxs)("div",{className:"flex justify-end gap-4 mt-6",children:[(0,h.jsx)(o.P.button,{onClick:a,className:"px-4 py-2 bg-gray-500 rounded-lg hover:bg-gray-600",variants:b,whileHover:"hover",children:"Cancel"}),(0,h.jsx)(o.P.button,{onClick:()=>{d.srNo?(i(d),a()):r.oR.error("Invalid row data.")},className:"px-4 py-2 bg-green-500 rounded-lg hover:bg-green-600",variants:b,whileHover:"hover",children:"Save"})]})]})})}):null},g=e=>{let{tableData:t,handleEdit:a,handleDelete:s}=e;return(0,h.jsx)(o.P.div,{className:"bg-gray-800/30 rounded-xl shadow-lg border border-gray-200/20 overflow-x-auto",variants:p,children:(0,h.jsxs)("table",{className:"w-full text-white",children:[(0,h.jsx)("thead",{className:"bg-gray-700/50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Sr. No."}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Received from"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Pending last month"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Received"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Resolved"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Pending"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Pending  3 Months"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Avg. Resolution time (days)"}),(0,h.jsx)("th",{className:"p-4 text-left text-sm font-semibold",children:"Actions"})]})}),(0,h.jsx)("tbody",{children:(Array.isArray(t)?t:Object.values(t||{})).map(e=>(0,h.jsxs)(o.P.tr,{className:"border-b border-gray-200/20 hover:bg-gray-700/20",variants:p,children:[(0,h.jsx)("td",{className:"p-4",children:e.srNo}),(0,h.jsx)("td",{className:"p-4",children:e.source||"N/A"}),(0,h.jsx)("td",{className:"p-4",children:e.pendingLastMonth||0}),(0,h.jsx)("td",{className:"p-4",children:e.received||0}),(0,h.jsx)("td",{className:"p-4",children:e.resolved||0}),(0,h.jsx)("td",{className:"p-4",children:e.pending||0}),(0,h.jsx)("td",{className:"p-4",children:e.pending3Months||0}),(0,h.jsx)("td",{className:"p-4",children:e.avgResolutionTime||0}),(0,h.jsxs)("td",{className:"p-4 flex gap-2",children:[(0,h.jsx)(o.P.button,{onClick:()=>a(e),className:"text-blue-500 hover:text-blue-700",variants:b,whileHover:"hover",children:(0,h.jsx)(d.SG1,{size:16})}),"Grand Total"!==e.srNo&&(0,h.jsx)(o.P.button,{onClick:()=>s(e.srNo),className:"text-red-500 hover:text-red-700",variants:b,whileHover:"hover",children:(0,h.jsx)(d.IXo,{size:16})})]})]},e.srNo))})]})})},v=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[d,p]=(0,s.useState)(!1),[b,v]=(0,s.useState)(null),[y,j]=(0,s.useState)(!1),[f,N]=(0,s.useState)(null);(0,s.useEffect)(()=>{const e=(0,l.KR)(i.db,"complaintTableData/data"),a=(0,l.Zy)(e,e=>{const a=e.val();t(a?Array.isArray(a)?a:Object.values(a):[]),n(!1)},e=>{r.oR.error("Failed to load complaint data: "+e.message),n(!1)});return()=>a()},[]);return(0,h.jsxs)(o.P.div,{variants:m,initial:"hidden",animate:"visible",children:[(0,h.jsx)("h2",{className:"text-3xl font-bold text-white mb-6",children:"Complaint Manager"}),a?(0,h.jsx)(c.A,{}):(0,h.jsx)(g,{tableData:e,handleEdit:e=>{v(e),p(!0)},handleDelete:e=>{N(e),j(!0)}}),(0,h.jsx)(u,{isOpen:d,onClose:()=>p(!1),rowData:b,onSave:async t=>{try{const a=e.map(e=>e.srNo===t.srNo?t:e);await(0,l.yo)((0,l.KR)(i.db,"complaintTableData"),{data:a}),r.oR.success("Row updated successfully.")}catch(a){r.oR.error("Failed to update row: "+a.message)}p(!1)}}),(0,h.jsx)(x.A,{isOpen:y,onClose:()=>j(!1),onConfirm:async()=>{if(f){try{const t=e.filter(e=>e.srNo!==f);await(0,l.yo)((0,l.KR)(i.db,"complaintTableData"),{data:t}),r.oR.success("Row deleted successfully.")}catch(t){r.oR.error("Failed to delete row: "+t.message)}j(!1),N(null)}},title:"Confirm Deletion",message:"Are you sure you want to delete this row?"})]})}}}]);
//# sourceMappingURL=1283.cc33caba.chunk.js.map